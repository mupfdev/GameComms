<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GamemComms: CGameBTComms Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GamemComms
   </div>
   <div id="projectbrief">A GameComms.dll re-implementation for the Nokia N-Gage</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classCGameBTComms.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classCGameBTComms-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CGameBTComms Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the main interface to the library exposing all multidevice games operations available to a developer.  
 <a href="classCGameBTComms.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GameBTComms_8h_source.html">GameBTComms.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CGameBTComms:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameBTComms__inherit__graph.png" border="0" usemap="#aCGameBTComms_inherit__map" alt="Inheritance graph"/></div>
<map name="aCGameBTComms_inherit__map" id="aCGameBTComms_inherit__map">
<area shape="rect" title="This is the main interface to the library exposing all multidevice games operations available to a de..." alt="" coords="5,80,141,107"/>
<area shape="rect" title=" " alt="" coords="42,5,105,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CGameBTComms:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameBTComms__coll__graph.png" border="0" usemap="#aCGameBTComms_coll__map" alt="Collaboration graph"/></div>
<map name="aCGameBTComms_coll__map" id="aCGameBTComms_coll__map">
<area shape="rect" title="This is the main interface to the library exposing all multidevice games operations available to a de..." alt="" coords="114,95,250,121"/>
<area shape="rect" title=" " alt="" coords="5,5,68,32"/>
<area shape="rect" href="classMGameBTCommsNotify.html" title="This is the notification interface provided by the library." alt="" coords="93,5,271,32"/>
<area shape="rect" href="classRSGEDebugLog.html" title="Provides output to a debug log on device (E:\debug.log). This slows down performance markedly." alt="" coords="295,5,418,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">StartHostL</div></td></tr>
<tr class="memitem:aa0c79c2129e8226fb4e8bce715400ca1"><td class="memItemLeft" align="right" valign="top">IMPORT_C void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#aa0c79c2129e8226fb4e8bce715400ca1">StartHostL</a> (TUint16 aStartPlayers, TUint16 aMinPlayers)</td></tr>
<tr class="memdesc:aa0c79c2129e8226fb4e8bce715400ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set device as a the host.  <a href="classCGameBTComms.html#aa0c79c2129e8226fb4e8bce715400ca1">More...</a><br /></td></tr>
<tr class="separator:aa0c79c2129e8226fb4e8bce715400ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">StartClientL</div></td></tr>
<tr class="memitem:aa4589230547c8f582a302f7b7caa2b12"><td class="memItemLeft" align="right" valign="top">IMPORT_C void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#aa4589230547c8f582a302f7b7caa2b12">StartClientL</a> ()</td></tr>
<tr class="memdesc:aa4589230547c8f582a302f7b7caa2b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the device as a client.  <a href="classCGameBTComms.html#aa4589230547c8f582a302f7b7caa2b12">More...</a><br /></td></tr>
<tr class="separator:aa4589230547c8f582a302f7b7caa2b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TConnectionRole</div></td></tr>
<tr class="memitem:a56aa253cc6ee9e303c83ed008e994afd"><td class="memItemLeft" align="right" valign="top">IMPORT_C TConnectionRole&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a56aa253cc6ee9e303c83ed008e994afd">ConnectionRole</a> ()</td></tr>
<tr class="memdesc:a56aa253cc6ee9e303c83ed008e994afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the device is the host or a client.  <a href="classCGameBTComms.html#a56aa253cc6ee9e303c83ed008e994afd">More...</a><br /></td></tr>
<tr class="separator:a56aa253cc6ee9e303c83ed008e994afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">GameState</div></td></tr>
<tr class="memitem:a846c181d12647c89b02070fea78d4fae"><td class="memItemLeft" align="right" valign="top">IMPORT_C TGameState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a846c181d12647c89b02070fea78d4fae">GameState</a> ()</td></tr>
<tr class="memdesc:a846c181d12647c89b02070fea78d4fae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the state of the game.  <a href="classCGameBTComms.html#a846c181d12647c89b02070fea78d4fae">More...</a><br /></td></tr>
<tr class="separator:a846c181d12647c89b02070fea78d4fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ConnectState</div></td></tr>
<tr class="memitem:a27cf9cd51480514ce68380c842f973d8"><td class="memItemLeft" align="right" valign="top">IMPORT_C TConnectState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a27cf9cd51480514ce68380c842f973d8">ConnectState</a> ()</td></tr>
<tr class="memdesc:a27cf9cd51480514ce68380c842f973d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the state of the connection.  <a href="classCGameBTComms.html#a27cf9cd51480514ce68380c842f973d8">More...</a><br /></td></tr>
<tr class="separator:a27cf9cd51480514ce68380c842f973d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">GetLocalDeviceName</div></td></tr>
<tr class="memitem:a5bf170633c0283b5cf042a5bd3da70db"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a5bf170633c0283b5cf042a5bd3da70db">GetLocalDeviceName</a> (THostName &amp;aHostName)</td></tr>
<tr class="memdesc:a5bf170633c0283b5cf042a5bd3da70db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name from the user's Bluetooth settings.  <a href="classCGameBTComms.html#a5bf170633c0283b5cf042a5bd3da70db">More...</a><br /></td></tr>
<tr class="separator:a5bf170633c0283b5cf042a5bd3da70db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Disconnect</div></td></tr>
<tr class="memitem:a6e01b80cf10835ccc57ef8f4ce71085a"><td class="memItemLeft" align="right" valign="top">IMPORT_C void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a6e01b80cf10835ccc57ef8f4ce71085a">Disconnect</a> ()</td></tr>
<tr class="memdesc:a6e01b80cf10835ccc57ef8f4ce71085a"><td class="mdescLeft">&#160;</td><td class="mdescRight">When called from a client, the connection to the host is dropped.  <a href="classCGameBTComms.html#a6e01b80cf10835ccc57ef8f4ce71085a">More...</a><br /></td></tr>
<tr class="separator:a6e01b80cf10835ccc57ef8f4ce71085a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">DisconnectClient</div></td></tr>
<tr class="memitem:a92d9d0c58afca7a94b9da05a5bcf0d4b"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a92d9d0c58afca7a94b9da05a5bcf0d4b">DisconnectClient</a> (TUint16 aClientId)</td></tr>
<tr class="memdesc:a92d9d0c58afca7a94b9da05a5bcf0d4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects the client specified.  <a href="classCGameBTComms.html#a92d9d0c58afca7a94b9da05a5bcf0d4b">More...</a><br /></td></tr>
<tr class="separator:a92d9d0c58afca7a94b9da05a5bcf0d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">SendDataToClient</div></td></tr>
<tr class="memitem:a8e091d11c76d556e40155e0b6174d6e7"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a8e091d11c76d556e40155e0b6174d6e7">SendDataToClient</a> (TUint16 aClientId, TDesC8 &amp;aData)</td></tr>
<tr class="memdesc:a8e091d11c76d556e40155e0b6174d6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a synchronous data write operation to the specified client.  <a href="classCGameBTComms.html#a8e091d11c76d556e40155e0b6174d6e7">More...</a><br /></td></tr>
<tr class="separator:a8e091d11c76d556e40155e0b6174d6e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">SendDataToAllClients</div></td></tr>
<tr class="memitem:aa8f53a3643fafad29bc0d600084dc49d"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#aa8f53a3643fafad29bc0d600084dc49d">SendDataToAllClients</a> (TDesC8 &amp;aData)</td></tr>
<tr class="memdesc:aa8f53a3643fafad29bc0d600084dc49d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a synchronous data broadcast operation to all connected clients.  <a href="classCGameBTComms.html#aa8f53a3643fafad29bc0d600084dc49d">More...</a><br /></td></tr>
<tr class="separator:aa8f53a3643fafad29bc0d600084dc49d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">SendDataToHost</div></td></tr>
<tr class="memitem:a24ac4a62151a3c566fd59a8c97d0bd81"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a24ac4a62151a3c566fd59a8c97d0bd81">SendDataToHost</a> (TDesC8 &amp;aData)</td></tr>
<tr class="memdesc:a24ac4a62151a3c566fd59a8c97d0bd81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a synchronous data write operation to the host.  <a href="classCGameBTComms.html#a24ac4a62151a3c566fd59a8c97d0bd81">More...</a><br /></td></tr>
<tr class="separator:a24ac4a62151a3c566fd59a8c97d0bd81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ContinueMultiPlayerGame</div></td></tr>
<tr class="memitem:a41cab80fa384cc6bda54f0f50cafafec"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a41cab80fa384cc6bda54f0f50cafafec">ContinueMultiPlayerGame</a> ()</td></tr>
<tr class="memdesc:a41cab80fa384cc6bda54f0f50cafafec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called to continue a multiplayer game with the same parties that was paused by receiving a <a class="el" href="classMGameBTCommsNotify.html#a5022bcfc48c946df980d7fd531fa45a5" title="Called on all applications except the one that called CGameBTComms::PauseMultiPlayerGame()">MGameBTCommsNotify::PauseMultiPlayerGame</a>.  <a href="classCGameBTComms.html#a41cab80fa384cc6bda54f0f50cafafec">More...</a><br /></td></tr>
<tr class="separator:a41cab80fa384cc6bda54f0f50cafafec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ReconnectL</div></td></tr>
<tr class="memitem:aefb64bc8e491a2284409e9ab98adb715"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#aefb64bc8e491a2284409e9ab98adb715">ReconnectL</a> (TBool aMustReconnectToAll=ETrue)</td></tr>
<tr class="memdesc:aefb64bc8e491a2284409e9ab98adb715"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called to reconnect a disconnected device (for example after the application went into the background).  <a href="classCGameBTComms.html#aefb64bc8e491a2284409e9ab98adb715">More...</a><br /></td></tr>
<tr class="separator:aefb64bc8e491a2284409e9ab98adb715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">PauseMultiPlayerGame</div></td></tr>
<tr class="memitem:a8e52208889e1fa5f46e388978a758c08"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a8e52208889e1fa5f46e388978a758c08">PauseMultiPlayerGame</a> ()</td></tr>
<tr class="memdesc:a8e52208889e1fa5f46e388978a758c08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets each device's game status to paused.  <a href="classCGameBTComms.html#a8e52208889e1fa5f46e388978a758c08">More...</a><br /></td></tr>
<tr class="separator:a8e52208889e1fa5f46e388978a758c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">EndMultiPlayerGame</div></td></tr>
<tr class="memitem:a3128843106351e085f9fc7dfb39d94fd"><td class="memItemLeft" align="right" valign="top">IMPORT_C TInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd">EndMultiPlayerGame</a> ()</td></tr>
<tr class="memdesc:a3128843106351e085f9fc7dfb39d94fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called when a player no longer wishes to be part of the game (no option of continuing allowed).  <a href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd">More...</a><br /></td></tr>
<tr class="separator:a3128843106351e085f9fc7dfb39d94fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">NewL</h2></td></tr>
<tr class="memitem:a04b78e3973a55237b45eba2a19fe4420"><td class="memItemLeft" align="right" valign="top"><a id="a04b78e3973a55237b45eba2a19fe4420"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>KMaxPlayers</b> = KBTMaxPlayers
 }</td></tr>
<tr class="separator:a04b78e3973a55237b45eba2a19fe4420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2110f0f9d97a06f69988242c0f5c771d"><td class="memItemLeft" align="right" valign="top"><a id="a2110f0f9d97a06f69988242c0f5c771d"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>KServerConnectionId</b> = KBTHostConnectionId
 }</td></tr>
<tr class="separator:a2110f0f9d97a06f69988242c0f5c771d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c7881991e1b5a7bb316373938306c6"><td class="memItemLeft" align="right" valign="top"><a id="a95c7881991e1b5a7bb316373938306c6"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>TConnectionRole</b> { <b>EIdle</b>
, <b>EClient</b>
, <b>EHost</b>
 }</td></tr>
<tr class="separator:a95c7881991e1b5a7bb316373938306c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183be2b80fc407b0d75c5150d6a70e85"><td class="memItemLeft" align="right" valign="top"><a id="a183be2b80fc407b0d75c5150d6a70e85"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>TGameState</b> { <b>EGameOver</b>
, <b>EPlay</b>
, <b>EPause</b>
 }</td></tr>
<tr class="separator:a183be2b80fc407b0d75c5150d6a70e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2399bf4874fb18d542d28161dfa95424"><td class="memItemLeft" align="right" valign="top"><a id="a2399bf4874fb18d542d28161dfa95424"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>TConnectState</b> { <b>ENotConnected</b>
, <b>EConnecting</b>
, <b>EConnected</b>
 }</td></tr>
<tr class="separator:a2399bf4874fb18d542d28161dfa95424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71d213eb73e9d3f9c3d9af8668b1679"><td class="memItemLeft" align="right" valign="top"><a id="aa71d213eb73e9d3f9c3d9af8668b1679"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>TGameCommsState</b> { <br />
&#160;&#160;<b>EInit</b>
, <b>ERegisterUID</b>
, <b>ERegisterDeviceName</b>
, <b>ERegisterNetConfig</b>
, <br />
&#160;&#160;<b>ERegisterRole</b>
, <b>EHandleMessages</b>
<br />
 }</td></tr>
<tr class="separator:aa71d213eb73e9d3f9c3d9af8668b1679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2bfab68db6a57417922b7fcac45d795"><td class="memItemLeft" align="right" valign="top">static IMPORT_C <a class="el" href="classCGameBTComms.html">CGameBTComms</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#ac2bfab68db6a57417922b7fcac45d795">NewL</a> (<a class="el" href="classMGameBTCommsNotify.html">MGameBTCommsNotify</a> *aEventHandler, TUint32 aGameUID, <a class="el" href="classRSGEDebugLog.html">RSGEDebugLog</a> *aLog=NULL)</td></tr>
<tr class="memdesc:ac2bfab68db6a57417922b7fcac45d795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classCGameBTComms.html" title="This is the main interface to the library exposing all multidevice games operations available to a de...">CGameBTComms</a> object.  <a href="classCGameBTComms.html#ac2bfab68db6a57417922b7fcac45d795">More...</a><br /></td></tr>
<tr class="separator:ac2bfab68db6a57417922b7fcac45d795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e66e7265af956ed60409757d48e9ca5"><td class="memItemLeft" align="right" valign="top"><a id="a8e66e7265af956ed60409757d48e9ca5"></a>
IMPORT_C&#160;</td><td class="memItemRight" valign="bottom"><b>~CGameBTComms</b> ()</td></tr>
<tr class="separator:a8e66e7265af956ed60409757d48e9ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">IsShowingDeviceSelectDlg</h2></td></tr>
<tr class="memitem:a8b6177a70cefa3848ea7a63ac4fd3585"><td class="memItemLeft" align="right" valign="top"><a id="a8b6177a70cefa3848ea7a63ac4fd3585"></a>
<a class="el" href="classMGameBTCommsNotify.html">MGameBTCommsNotify</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a8b6177a70cefa3848ea7a63ac4fd3585">iNotify</a></td></tr>
<tr class="memdesc:a8b6177a70cefa3848ea7a63ac4fd3585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores a pointer to the user object that will receive callbacks. <br /></td></tr>
<tr class="separator:a8b6177a70cefa3848ea7a63ac4fd3585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6470052b5f0dd2287351ae0a96d919e"><td class="memItemLeft" align="right" valign="top"><a id="ab6470052b5f0dd2287351ae0a96d919e"></a>
TUint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#ab6470052b5f0dd2287351ae0a96d919e">iGameUID</a></td></tr>
<tr class="memdesc:ab6470052b5f0dd2287351ae0a96d919e"><td class="mdescLeft">&#160;</td><td class="mdescRight">UID of the game to be played. <br /></td></tr>
<tr class="separator:ab6470052b5f0dd2287351ae0a96d919e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0547a8b9d2fa83b26386c86153937f"><td class="memItemLeft" align="right" valign="top"><a id="a8f0547a8b9d2fa83b26386c86153937f"></a>
<a class="el" href="classRSGEDebugLog.html">RSGEDebugLog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a8f0547a8b9d2fa83b26386c86153937f">iLog</a></td></tr>
<tr class="memdesc:a8f0547a8b9d2fa83b26386c86153937f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to file of debug logging (if included in build!) <br /></td></tr>
<tr class="separator:a8f0547a8b9d2fa83b26386c86153937f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb68c3a2e6c9842b7996b38e12a1bf2"><td class="memItemLeft" align="right" valign="top"><a id="a5cb68c3a2e6c9842b7996b38e12a1bf2"></a>
CGameBTBase *&#160;</td><td class="memItemRight" valign="bottom"><b>iComms</b></td></tr>
<tr class="separator:a5cb68c3a2e6c9842b7996b38e12a1bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6943267d0d06acafd4b038caea6ae5e4"><td class="memItemLeft" align="right" valign="top">IMPORT_C TBool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a6943267d0d06acafd4b038caea6ae5e4">IsShowingDeviceSelectDlg</a> ()</td></tr>
<tr class="memdesc:a6943267d0d06acafd4b038caea6ae5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether the Symbian device selection dialog is on display.  <a href="classCGameBTComms.html#a6943267d0d06acafd4b038caea6ae5e4">More...</a><br /></td></tr>
<tr class="separator:a6943267d0d06acafd4b038caea6ae5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbae0dbb670b8347cf06d75d81ec16f7"><td class="memItemLeft" align="right" valign="top"><a id="adbae0dbb670b8347cf06d75d81ec16f7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Update</b> (TUint16 aClientId=0, char *aData=NULL, TUint16 aLength=0, char *sDebug=NULL)</td></tr>
<tr class="separator:adbae0dbb670b8347cf06d75d81ec16f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d49b263fade65d34869870c1d91e56"><td class="memItemLeft" align="right" valign="top"><a id="a82d49b263fade65d34869870c1d91e56"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#a82d49b263fade65d34869870c1d91e56">CGameBTComms</a> ()</td></tr>
<tr class="memdesc:a82d49b263fade65d34869870c1d91e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default C++ Constructor. <br /></td></tr>
<tr class="separator:a82d49b263fade65d34869870c1d91e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9aec4958676c821ab2d34c74de533a1"><td class="memItemLeft" align="right" valign="top"><a id="ad9aec4958676c821ab2d34c74de533a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameBTComms.html#ad9aec4958676c821ab2d34c74de533a1">ConstructL</a> (<a class="el" href="classMGameBTCommsNotify.html">MGameBTCommsNotify</a> *aEventHandler, TUint32 aGameUID, <a class="el" href="classRSGEDebugLog.html">RSGEDebugLog</a> *aLog)</td></tr>
<tr class="memdesc:ad9aec4958676c821ab2d34c74de533a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">EPOC Constructor. <br /></td></tr>
<tr class="separator:ad9aec4958676c821ab2d34c74de533a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the main interface to the library exposing all multidevice games operations available to a developer. </p>
<p>This class is used to govern the client-host relationship and transfer data between devices. It also provides functionality for common scenarios (e.g. Pause / Continue). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a56aa253cc6ee9e303c83ed008e994afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56aa253cc6ee9e303c83ed008e994afd">&#9670;&nbsp;</a></span>ConnectionRole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C CGameBTComms::TConnectionRole CGameBTComms::ConnectionRole </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates whether the device is the host or a client. </p>
<pre class="fragment">   This is a simple synchronous method that makes no
   external request.
</pre> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EHots</td><td>If StartHostL has been called (most recently)</td></tr>
    <tr><td class="paramname">EClient</td><td>If StartClientL has been called (most recently)</td></tr>
    <tr><td class="paramname">EIdle</td><td>Otherwise (<a class="el" href="classCGameBTComms.html" title="This is the main interface to the library exposing all multidevice games operations available to a de...">CGameBTComms</a> has been just constructed) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27cf9cd51480514ce68380c842f973d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cf9cd51480514ce68380c842f973d8">&#9670;&nbsp;</a></span>ConnectState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C CGameBTComms::TConnectState CGameBTComms::ConnectState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates the state of the connection. </p>
<pre class="fragment">   This is a simple synchronous method that makes no external
   request.
</pre> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EConnected</td><td>If the necessary connections are in place:<ol type="1">
<li>On the host, all clients must be connected</li>
<li>On a client, must be connected to the host</li>
</ol>
</td></tr>
    <tr><td class="paramname">ENotConnected</td><td>If all necessary connections are not in place</td></tr>
    <tr><td class="paramname">EConnecting</td><td>In the process of a connection attempt </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41cab80fa384cc6bda54f0f50cafafec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cab80fa384cc6bda54f0f50cafafec">&#9670;&nbsp;</a></span>ContinueMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::ContinueMultiPlayerGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called to continue a multiplayer game with the same parties that was paused by receiving a <a class="el" href="classMGameBTCommsNotify.html#a5022bcfc48c946df980d7fd531fa45a5" title="Called on all applications except the one that called CGameBTComms::PauseMultiPlayerGame()">MGameBTCommsNotify::PauseMultiPlayerGame</a>. </p>
<p>If this device is not connected anymore ReconnectL must be called first (for example, because the application went into the background).</p>
<p>The host waits for all connected devices to call <a class="el" href="classCGameBTComms.html#a41cab80fa384cc6bda54f0f50cafafec" title="This is called to continue a multiplayer game with the same parties that was paused by receiving a MG...">ContinueMultiPlayerGame()</a>. It then sends a continue message to each device so that each device's game status is set to play and <a class="el" href="classMGameBTCommsNotify.html#ad769f402d9fb85739ae6e672fdf2f821" title="Always called on all applications when a game can be continued after it has been paused.">MGameBTCommsNotify::ContinueMultiPlayerGame</a> is called on each connected device.</p>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e01b80cf10835ccc57ef8f4ce71085a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e01b80cf10835ccc57ef8f4ce71085a">&#9670;&nbsp;</a></span>Disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CGameBTComms::Disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When called from a client, the connection to the host is dropped. </p>
<p><a class="el" href="classMGameBTCommsNotify.html#a6bb470b3c1affbb8e32e28cb1ad0ad4e" title="This is called on a client application when the host has disconnected because:">MGameBTCommsNotify::HostDisconnected</a> will be called on each client device.</p>
<p>If the game is paused, a client disconnecting does not end the game. However, if the game is in play a client disconnecting will end the game for itself – if then there are too few players left, <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a>, will be called (on each device) to indicate that the game should be ended, otherwise <a class="el" href="classMGameBTCommsNotify.html#a0cdb8dec4c8fad921cb47f2d4633b879" title="Notifies the host game application that a connected client has chosen to end their game in the follow...">MGameBTCommsNotify::ConnectedClientEndedGame</a> will be called on the host device.</p>
<p>If the game is playing, when Disconnect is called, <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a> will be called (on the disconnected device).</p>
<p>Disconnect MUST be called when:</p>
<ol type="1">
<li>An application using the library goes into the background (override CAknAppUi::HandleForegroundEventL to detect when this occurs - NB see also IsShowingDeviceSelectionDlg). This means that another application can used Bluetooth comms without the risk of interference – pause should be called first in this event so the game can be continued.</li>
</ol>
<p>Note that PauseMultiPlayerGame should be called beforehand if the game is to be continued. </p>

</div>
</div>
<a id="a92d9d0c58afca7a94b9da05a5bcf0d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d9d0c58afca7a94b9da05a5bcf0d4b">&#9670;&nbsp;</a></span>DisconnectClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::DisconnectClient </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects the client specified. </p>
<pre class="fragment">   This only has any effect if called from the host.  Note
   that MGameBTCommsNotify::ClientDisconnected is not called
   because the host application knows that the client is
   being disconnected.

   If the game is paused, a client disconnecting does not end
   the game.  However, if the game is in play when a client
   is disconnected it's game will be ended – if there are too
   few players left, MGameBTCommsNotify::EndMultiPlayerGame,
   will be called (on each device) to indicate that the game
   should be ended, otherwise
   MGameBTCommsNotify::ConnectedClientEndedGame will be
   called on the host device.

   If the game is playing, when Disconnect is called,
   MGameBTCommsNotify::EndMultiPlayerGame will be called (on
   the disconnected device).
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Id of client to disconnect (from 1 to CGameBTComms::KMaxPlayers - 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3128843106351e085f9fc7dfb39d94fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3128843106351e085f9fc7dfb39d94fd">&#9670;&nbsp;</a></span>EndMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::EndMultiPlayerGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called when a player no longer wishes to be part of the game (no option of continuing allowed). </p>
<p>If called from the host application, all devices will be notified to end their game play by calling <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a> (on each device), and each device will be disconnected.</p>
<p>If called from the client player, the game will continue if there are sufficient players. <a class="el" href="classMGameBTCommsNotify.html#a0cdb8dec4c8fad921cb47f2d4633b879" title="Notifies the host game application that a connected client has chosen to end their game in the follow...">MGameBTCommsNotify::ConnectedClientEndedGame</a> will then be called on the host device. If there are not enough players left, <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a> will be called (on each device).</p>
<p>If called from the client player, the game will continue if there are sufficient players. <a class="el" href="classMGameBTCommsNotify.html#a0cdb8dec4c8fad921cb47f2d4633b879" title="Notifies the host game application that a connected client has chosen to end their game in the follow...">MGameBTCommsNotify::ConnectedClientEndedGame</a> will then be called on the host device. If there are not enough players left, <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a> will be called (on each device).</p>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a846c181d12647c89b02070fea78d4fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846c181d12647c89b02070fea78d4fae">&#9670;&nbsp;</a></span>GameState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C CGameBTComms::TGameState CGameBTComms::GameState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates the state of the game. </p>
<pre class="fragment">   This is a simple synchronous method that makes no external
   request.
</pre> <dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EPlay</td><td>If the game is playing</td></tr>
    <tr><td class="paramname">EPause</td><td>If the game is paused</td></tr>
    <tr><td class="paramname">EGameOver</td><td>If the game has ended (or has not started yet) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5bf170633c0283b5cf042a5bd3da70db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf170633c0283b5cf042a5bd3da70db">&#9670;&nbsp;</a></span>GetLocalDeviceName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::GetLocalDeviceName </td>
          <td>(</td>
          <td class="paramtype">THostName &amp;&#160;</td>
          <td class="paramname"><em>aHostName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name from the user's Bluetooth settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHostName</td><td>Buffer to receive the name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6943267d0d06acafd4b038caea6ae5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6943267d0d06acafd4b038caea6ae5e4">&#9670;&nbsp;</a></span>IsShowingDeviceSelectDlg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TBool CGameBTComms::IsShowingDeviceSelectDlg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether the Symbian device selection dialog is on display. </p>
<p>The client needs to know whether the Symbian device selection dialog is on display in their override of CAknAppUi::HandleForegroundEventL (see Disconnect). This dialog causes the application that calls it to lose focus and so causes a call to HandleForegroundEventL. However is it very IMPORTANT that that user application only calls Disconnect if this dialog is NOT displayed. When the dialog is displayed it is impossible to switch to another application, so CAknAppUi::HandleForegroundEventL will be called again if the game application loses focus for a different reason (such as receiving a phone call).</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ETrue</td><td>If the device selection dialog is on display</td></tr>
    <tr><td class="paramname">EFalse</td><td>Device selection dialog is not shown </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2bfab68db6a57417922b7fcac45d795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2bfab68db6a57417922b7fcac45d795">&#9670;&nbsp;</a></span>NewL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C <a class="el" href="classCGameBTComms.html">CGameBTComms</a> * CGameBTComms::NewL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMGameBTCommsNotify.html">MGameBTCommsNotify</a> *&#160;</td>
          <td class="paramname"><em>aEventHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TUint32&#160;</td>
          <td class="paramname"><em>aGameUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRSGEDebugLog.html">RSGEDebugLog</a> *&#160;</td>
          <td class="paramname"><em>aLog</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="classCGameBTComms.html" title="This is the main interface to the library exposing all multidevice games operations available to a de...">CGameBTComms</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aEventHandler</td><td>Object implementing the <a class="el" href="classMGameBTCommsNotify.html" title="This is the notification interface provided by the library.">MGameBTCommsNotify</a> interface. It will receive callbacks when events occur.</td></tr>
    <tr><td class="paramname">aGameUID</td><td>Unique identifier representing the game to be played.</td></tr>
    <tr><td class="paramname">aLog</td><td>Debug log file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classCGameBTComms.html" title="This is the main interface to the library exposing all multidevice games operations available to a de...">CGameBTComms</a> object. </dd></dl>

</div>
</div>
<a id="a8e52208889e1fa5f46e388978a758c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e52208889e1fa5f46e388978a758c08">&#9670;&nbsp;</a></span>PauseMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::PauseMultiPlayerGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets each device's game status to paused. </p>
<pre class="fragment">   MGameBTCommsNotify::PauseMultiPlayerGame is then called
   (on each device but the caller) to instruct them to pause
   their game play.

   This should be called when:

   1. A user presses the back softkey during play, or

   2. Prior to Disconnect() being called when the application
      goes into the background (override
      CAknAppUi::HandleForegroundEventL to detect when this
      occurs - NB see also IsShowingDeviceSelectionDlg()).
</pre> <dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>if successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefb64bc8e491a2284409e9ab98adb715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefb64bc8e491a2284409e9ab98adb715">&#9670;&nbsp;</a></span>ReconnectL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::ReconnectL </td>
          <td>(</td>
          <td class="paramtype">TBool&#160;</td>
          <td class="paramname"><em>aMustReconnectToAll</em> = <code>ETrue</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called to reconnect a disconnected device (for example after the application went into the background). </p>
<p>If this is a client, the device will wait for the host to reconnect, asynchronous notification being received via <a class="el" href="classMGameBTCommsNotify.html#a51a7a21de5019aad81c748e63f88dbf4" title="Always called on each client application after StartClientL() is called (unless no device is selected...">MGameBTCommsNotify::HostConnected</a>.</p>
<p>If this is the host, all the clients that had previously joined are reconnected to, asynchronous notification being received via <a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b" title="Always called on the host application (with KErrNone == aError) for each sucessful connection made wi...">MGameBTCommsNotify::ClientConnected</a> for each client. In order for this to be successful, each client must be ready for reconnection. Otherwise the error code KErrNotReady will be returned in <a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b" title="Always called on the host application (with KErrNone == aError) for each sucessful connection made wi...">MGameBTCommsNotify::ClientConnected</a>. This function can be called again, however, to reconnect to the remaining clients that were not previously ready.</p>
<p>In the event of a successfull callback, ContinueMultiPlayerGame should be called. It is the responsibility of the game to display text or graphics to inform the user what is happenin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMustReconnectToAll</td><td><ul>
<li>If ETrue the host will stop reconnection attempts if it fails to reconnect any client.</li>
<li>If EFalse the host will attempt to reconnect other clients after a failed reconnect.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If no initial errors</td></tr>
    <tr><td class="paramname">KErrNotReady</td><td>If StartHostL or StartClientL has not been called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8f53a3643fafad29bc0d600084dc49d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f53a3643fafad29bc0d600084dc49d">&#9670;&nbsp;</a></span>SendDataToAllClients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::SendDataToAllClients </td>
          <td>(</td>
          <td class="paramtype">TDesC8 &amp;&#160;</td>
          <td class="paramname"><em>aData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a synchronous data broadcast operation to all connected clients. </p>
<p>This is only possible if called from the host while a game is playing. <a class="el" href="classMGameBTCommsNotify.html#a338686af8babe72f59326fb0e007e8ac" title="Notifies a client game application that some application specific data has been received from the hos...">MGameBTCommsNotify::ReceiveDataFromHost</a> will be called (on each client).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aData</td><td>Descriptor containing the data. Note that the length must be set (and MaxLength when using TPtr8)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful</td></tr>
    <tr><td class="paramname">KErrPaused</td><td>If the game is in a paused state</td></tr>
    <tr><td class="paramname">KErrGameOver</td><td>If in a game over state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e091d11c76d556e40155e0b6174d6e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e091d11c76d556e40155e0b6174d6e7">&#9670;&nbsp;</a></span>SendDataToClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::SendDataToClient </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDesC8 &amp;&#160;</td>
          <td class="paramname"><em>aData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a synchronous data write operation to the specified client. </p>
<pre class="fragment">   This is only possible if called from the host while a game
   is playing.  MGameBTCommsNotify::ReceiveDataFromHost will
   be called (on the specified client).
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Id of client to disconnect (from 1 to CGameBTComms::KMaxPlayers - 1)</td></tr>
    <tr><td class="paramname">aData</td><td>Descriptor containing the data. Note that the length must be set (and MaxLength when using TPtr8)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful </td></tr>
    <tr><td class="paramname">KErrPaused</td><td>If the game is in a paused state </td></tr>
    <tr><td class="paramname">KErrGameOver</td><td>If in a game over state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24ac4a62151a3c566fd59a8c97d0bd81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ac4a62151a3c566fd59a8c97d0bd81">&#9670;&nbsp;</a></span>SendDataToHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C TInt CGameBTComms::SendDataToHost </td>
          <td>(</td>
          <td class="paramtype">TDesC8 &amp;&#160;</td>
          <td class="paramname"><em>aData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a synchronous data write operation to the host. </p>
<pre class="fragment">   This is only possible if called from a client while a game
   is playing.  MGameBTCommsNotify::ReceiveDataFromClient
   will be called (on the host).
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aData</td><td>Descriptor containing the data. Note that the length must be set (and MaxLength when using TPtr8)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any EPOC error code</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">KErrNone</td><td>If successful</td></tr>
    <tr><td class="paramname">KErrPaused</td><td>If the game is in a paused state</td></tr>
    <tr><td class="paramname">KErrGameOver</td><td>If in a game over state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4589230547c8f582a302f7b7caa2b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4589230547c8f582a302f7b7caa2b12">&#9670;&nbsp;</a></span>StartClientL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CGameBTComms::StartClientL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the device as a client. </p>
<pre class="fragment">   The device is set as a client; any previous connections
   are deleted.  A list of Bluetooth devices is presented to
   the user – by means of the standard series 60 device
   selection dialog.  When a host is selected (or if the user
   presses cancel), MGameBTCommsNotify::HostSelected is
   called (on this client device).  If selection was
   successful, an attempt is made to connect to the host
   device.  It is the responsibility of the game to notify
   the user that a connection attempt to the host is being
   made.

   MGameBTCommsNotify::ClientConnected is called (on the host
   device) when a connection to the host is made, and
   MGameBTCommsNotify::HostConnected is called (on this
   client device), though this will also be called if an
   error occurred (including the user pressing cancel on the
   selection list).
</pre> 
</div>
</div>
<a id="aa0c79c2129e8226fb4e8bce715400ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c79c2129e8226fb4e8bce715400ca1">&#9670;&nbsp;</a></span>StartHostL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CGameBTComms::StartHostL </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aStartPlayers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aMinPlayers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set device as a the host. </p>
<p>The device is set as the host; any previous connections are deleted. The game (as represented by the game's unique Symbian App UID3 value – defined in the game's .mmp file) is added to the device's bluetooth advertising database, and the host starts listeners for any connections from client devices. The method is non-blocking, and notification of the following events is received asynchronously.</p>
<p>Each time a client connects, <a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b" title="Always called on the host application (with KErrNone == aError) for each sucessful connection made wi...">MGameBTCommsNotify::ClientConnected</a> is called (on the host device). When sufficient clients have connected (i.e &gt;= aStartPlayers), MGameBTCommsNotify::StartMuliPlayerGame is called (on all connected devices) to indicate that the game can be started.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartPlayers</td><td>Number of players required before the game can start</td></tr>
    <tr><td class="paramname">aMinPlayers</td><td>Minimum number of players needed in game after starting to continue playing. If numbers later fall below this, <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">MGameBTCommsNotify::EndMultiPlayerGame</a> will be called (on each connected device). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="GameBTComms_8h_source.html">GameBTComms.h</a></li>
<li>src/<a class="el" href="GameBTComms_8cpp.html">GameBTComms.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCGameBTComms.html">CGameBTComms</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
