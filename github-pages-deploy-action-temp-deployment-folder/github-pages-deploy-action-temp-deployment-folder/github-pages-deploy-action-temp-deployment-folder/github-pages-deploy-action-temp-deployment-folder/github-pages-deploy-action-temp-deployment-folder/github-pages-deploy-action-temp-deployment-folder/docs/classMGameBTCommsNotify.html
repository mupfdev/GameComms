<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GamemComms: MGameBTCommsNotify Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GamemComms
   </div>
   <div id="projectbrief">A GameComms.dll re-implementation for the Nokia N-Gage</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classMGameBTCommsNotify.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="classMGameBTCommsNotify-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MGameBTCommsNotify Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the notification interface provided by the library.  
 <a href="classMGameBTCommsNotify.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GameBTCommsNotify_8h_source.html">GameBTCommsNotify.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">ClientConnected</div></td></tr>
<tr class="memitem:aa6260a7d263c0fd5389e6b9a93c21b8b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b">ClientConnected</a> (TUint16 aClientId, TDesC &amp;aClientName, TInt aError)=0</td></tr>
<tr class="memdesc:aa6260a7d263c0fd5389e6b9a93c21b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Always called on the host application (with KErrNone == aError) for each sucessful connection made with a client. Also called with an error code on the host application when there is a connection error. In the second case the interpretation is different depending upon the API called prior to receiving the callback:  <a href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b">More...</a><br /></td></tr>
<tr class="separator:aa6260a7d263c0fd5389e6b9a93c21b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HostSelected</div></td></tr>
<tr class="memitem:ad63875daf6140c76cc0e7a8f2fc72daa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#ad63875daf6140c76cc0e7a8f2fc72daa">HostSelected</a> (TInt aError)=0</td></tr>
<tr class="memdesc:ad63875daf6140c76cc0e7a8f2fc72daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called on a client application when a host is selected by the user after calling StartClientL().  <a href="classMGameBTCommsNotify.html#ad63875daf6140c76cc0e7a8f2fc72daa">More...</a><br /></td></tr>
<tr class="separator:ad63875daf6140c76cc0e7a8f2fc72daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HostConnected</div></td></tr>
<tr class="memitem:a51a7a21de5019aad81c748e63f88dbf4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a51a7a21de5019aad81c748e63f88dbf4">HostConnected</a> (TInt aError)=0</td></tr>
<tr class="memdesc:a51a7a21de5019aad81c748e63f88dbf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Always called on each client application after StartClientL() is called (unless no device is selected).  <a href="classMGameBTCommsNotify.html#a51a7a21de5019aad81c748e63f88dbf4">More...</a><br /></td></tr>
<tr class="separator:a51a7a21de5019aad81c748e63f88dbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">StartMultiPlayerGame</div></td></tr>
<tr class="memitem:a10f165616ab9490aa4a5d8af7e31623d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a10f165616ab9490aa4a5d8af7e31623d">StartMultiPlayerGame</a> (TInt aError)=0</td></tr>
<tr class="memdesc:a10f165616ab9490aa4a5d8af7e31623d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Always called on all applications when the game can be started (KErrNone == aError).  <a href="classMGameBTCommsNotify.html#a10f165616ab9490aa4a5d8af7e31623d">More...</a><br /></td></tr>
<tr class="separator:a10f165616ab9490aa4a5d8af7e31623d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ContinueMultiPlayerGame</div></td></tr>
<tr class="memitem:ad769f402d9fb85739ae6e672fdf2f821"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#ad769f402d9fb85739ae6e672fdf2f821">ContinueMultiPlayerGame</a> ()=0</td></tr>
<tr class="memdesc:ad769f402d9fb85739ae6e672fdf2f821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Always called on all applications when a game can be continued after it has been paused.  <a href="classMGameBTCommsNotify.html#ad769f402d9fb85739ae6e672fdf2f821">More...</a><br /></td></tr>
<tr class="separator:ad769f402d9fb85739ae6e672fdf2f821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">PauseMultiPlayerGame</div></td></tr>
<tr class="memitem:a5022bcfc48c946df980d7fd531fa45a5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a5022bcfc48c946df980d7fd531fa45a5">PauseMultiPlayerGame</a> ()=0</td></tr>
<tr class="memdesc:a5022bcfc48c946df980d7fd531fa45a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called on all applications except the one that called <a class="el" href="classCGameBTComms.html#a8e52208889e1fa5f46e388978a758c08" title="Sets each device&#39;s game status to paused.">CGameBTComms::PauseMultiPlayerGame()</a>  <a href="classMGameBTCommsNotify.html#a5022bcfc48c946df980d7fd531fa45a5">More...</a><br /></td></tr>
<tr class="separator:a5022bcfc48c946df980d7fd531fa45a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">EndMultiPlayerGame</div></td></tr>
<tr class="memitem:ab505b438d42be6adec486d55c3d3a7b6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6">EndMultiPlayerGame</a> (TInt aReason)=0</td></tr>
<tr class="memdesc:ab505b438d42be6adec486d55c3d3a7b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the game application that the game should be ended.  <a href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6">More...</a><br /></td></tr>
<tr class="separator:ab505b438d42be6adec486d55c3d3a7b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ConnectedClientEndedGame</div></td></tr>
<tr class="memitem:a0cdb8dec4c8fad921cb47f2d4633b879"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a0cdb8dec4c8fad921cb47f2d4633b879">ConnectedClientEndedGame</a> (TUint16 aClientId)=0</td></tr>
<tr class="memdesc:a0cdb8dec4c8fad921cb47f2d4633b879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the host game application that a connected client has chosen to end their game in the following cases:  <a href="classMGameBTCommsNotify.html#a0cdb8dec4c8fad921cb47f2d4633b879">More...</a><br /></td></tr>
<tr class="separator:a0cdb8dec4c8fad921cb47f2d4633b879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ClientDisconnected</div></td></tr>
<tr class="memitem:a948b0490b25466289dd4b30af53282f5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a948b0490b25466289dd4b30af53282f5">ClientDisconnected</a> (TUint16 aClientId, TInt aError)=0</td></tr>
<tr class="memdesc:a948b0490b25466289dd4b30af53282f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called on the host application when a client device has disconnected because:  <a href="classMGameBTCommsNotify.html#a948b0490b25466289dd4b30af53282f5">More...</a><br /></td></tr>
<tr class="separator:a948b0490b25466289dd4b30af53282f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HostDisconnected</div></td></tr>
<tr class="memitem:a6bb470b3c1affbb8e32e28cb1ad0ad4e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a6bb470b3c1affbb8e32e28cb1ad0ad4e">HostDisconnected</a> (TInt aError)=0</td></tr>
<tr class="memdesc:a6bb470b3c1affbb8e32e28cb1ad0ad4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called on a client application when the host has disconnected because:  <a href="classMGameBTCommsNotify.html#a6bb470b3c1affbb8e32e28cb1ad0ad4e">More...</a><br /></td></tr>
<tr class="separator:a6bb470b3c1affbb8e32e28cb1ad0ad4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ReceiveDataFromClient</div></td></tr>
<tr class="memitem:abd6870737d90c9d25c344b787a5f7d1a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#abd6870737d90c9d25c344b787a5f7d1a">ReceiveDataFromClient</a> (TUint16 aClientId, TDesC8 &amp;aData)=0</td></tr>
<tr class="memdesc:abd6870737d90c9d25c344b787a5f7d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the game application that some application specific data has been received from a client game.  <a href="classMGameBTCommsNotify.html#abd6870737d90c9d25c344b787a5f7d1a">More...</a><br /></td></tr>
<tr class="separator:abd6870737d90c9d25c344b787a5f7d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">ReceiveDataFromHost</div></td></tr>
<tr class="memitem:a338686af8babe72f59326fb0e007e8ac"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMGameBTCommsNotify.html#a338686af8babe72f59326fb0e007e8ac">ReceiveDataFromHost</a> (TDesC8 &amp;aData)=0</td></tr>
<tr class="memdesc:a338686af8babe72f59326fb0e007e8ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies a client game application that some application specific data has been received from the host game.  <a href="classMGameBTCommsNotify.html#a338686af8babe72f59326fb0e007e8ac">More...</a><br /></td></tr>
<tr class="separator:a338686af8babe72f59326fb0e007e8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the notification interface provided by the library. </p>
<pre class="fragment">   The application developer should provide a class implementing
   this interface with suitable handling for each callback
   method.  An object of that type can then be passed to the
   CGameBTComms object on creation; the framework will then call
   that object to handle each event.
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa6260a7d263c0fd5389e6b9a93c21b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6260a7d263c0fd5389e6b9a93c21b8b">&#9670;&nbsp;</a></span>ClientConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ClientConnected </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDesC &amp;&#160;</td>
          <td class="paramname"><em>aClientName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Always called on the host application (with KErrNone == aError) for each sucessful connection made with a client. Also called with an error code on the host application when there is a connection error. In the second case the interpretation is different depending upon the API called prior to receiving the callback: </p>
<ol type="1">
<li>When StartHostL() is called on the host application. If KErrNone != aError, the connection process is abandoned. Any existing clients will be disconnected. The host application will receive no further notifications.</li>
<li>When ReconnectL(ETrue) is called on the host application (when a game is paused). If KErrNone != aError, the re-connection process is abandoned. Any connected clients will remain connected and ReconnectL can be called again to attempt re-connection to the others.</li>
<li>When ReconnectL(EFalse) is callled on the host application (when a game is paused) If KErrNone != aError, the host will continue trying to reconnect to the other clients after a failure. In this case the host application can receive a number of <a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b" title="Always called on the host application (with KErrNone == aError) for each sucessful connection made wi...">ClientConnected()</a> callbacks where aError != KErrNone. It is the host application's responsibility to monitor the number of <a class="el" href="classMGameBTCommsNotify.html#aa6260a7d263c0fd5389e6b9a93c21b8b" title="Always called on the host application (with KErrNone == aError) for each sucessful connection made wi...">ClientConnected()</a> notifications received, so the user can be informed the success of the reconnection process.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Indicates which client has now connected (from 1 to CGameBTComms::KMaxPlayers - 1)</td></tr>
  </table>
  </dd>
</dl>
<p>If aError != KErrNone, aClientId may be KUnknownClientId indicating there was a connection error, but that the client id was not known. Note: if an error occurs, the host automatically disconnects all sockets and no further connections are possible. <a class="el" href="classCGameBTComms.html#aa0c79c2129e8226fb4e8bce715400ca1" title="Set device as a the host.">CGameBTComms::StartHostL()</a> must be called for further connection attempts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientName</td><td>If aError == KErrNone, aClientName will<ol type="1">
<li>contain the BT Device name of the client device, or</li>
<li>have zero length if a client has been reconnected to (using <a class="el" href="classCGameBTComms.html#aefb64bc8e491a2284409e9ab98adb715" title="This is called to reconnect a disconnected device (for example after the application went into the ba...">CGameBTComms::ReconnectL</a>)</li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>
<p>Otherwise aClientName will have zero length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aError</td><td><ul>
<li>KErrNone If successful</li>
<li>KErrCancel If user presses cancel before connection</li>
<li>KErrNotReady</li>
<li>Or any other standard EPOC error code </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a948b0490b25466289dd4b30af53282f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a948b0490b25466289dd4b30af53282f5">&#9670;&nbsp;</a></span>ClientDisconnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ClientDisconnected </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is called on the host application when a client device has disconnected because: </p>
<ol type="1">
<li>An I/O Error occurred</li>
<li>A client called <a class="el" href="classCGameBTComms.html#a6e01b80cf10835ccc57ef8f4ce71085a" title="When called from a client, the connection to the host is dropped.">CGameBTComms::Disconnect()</a></li>
<li>A client called <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a> to end it's game</li>
<li>The game was ended on the host</li>
</ol>
<p>It is not called when:</p>
<ol type="1">
<li>A DisconnectClient() call from the host application occurs.</li>
<li>A Disconnect() call from the host application occurs.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Indicates which client has disconnected (from 1 to CGameBTComms::KMaxPlayers - 1)</td></tr>
    <tr><td class="paramname">aError</td><td>KErrNone if disconnection isn't due to an error e.g. another device receiving telephone call, otherwise another error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0cdb8dec4c8fad921cb47f2d4633b879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cdb8dec4c8fad921cb47f2d4633b879">&#9670;&nbsp;</a></span>ConnectedClientEndedGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ConnectedClientEndedGame </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the host game application that a connected client has chosen to end their game in the following cases: </p>
<ol type="1">
<li>A client ends their game by calling <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a> and the minimum no of players are still present.</li>
<li>A client disconnects (because of an i/o error or Disconnect() called) from the host when the game is playing (and not paused) and the minimum no of players are still present.</li>
<li>The host application disconnects the client application via the DisconnectClient API and the minimum no of players are still present.</li>
</ol>
<p>It is not called when:</p>
<ol type="1">
<li>The host application calls <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a></li>
<li>A client's game ends and there are insufficient players left.</li>
<li>A client is disconnected from the host (via client or host initiation) and the game is in the paused state.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Indicates which connected client has ended their game </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad769f402d9fb85739ae6e672fdf2f821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad769f402d9fb85739ae6e672fdf2f821">&#9670;&nbsp;</a></span>ContinueMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ContinueMultiPlayerGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Always called on all applications when a game can be continued after it has been paused. </p>
<p>This will be called when enough connected applications (number of players &gt;= the minimum required for the game) have called CGameBTComms::ContinueMultiplayerGame(). </p>

</div>
</div>
<a id="ab505b438d42be6adec486d55c3d3a7b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab505b438d42be6adec486d55c3d3a7b6">&#9670;&nbsp;</a></span>EndMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::EndMultiPlayerGame </td>
          <td>(</td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aReason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the game application that the game should be ended. </p>
<p>Called on all applications except the one that called <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a>. Currently all client applications (even the one that called <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a>) also receive a <a class="el" href="classMGameBTCommsNotify.html#a6bb470b3c1affbb8e32e28cb1ad0ad4e" title="This is called on a client application when the host has disconnected because:">MGameBTCommsNotify::HostDisconnected</a> notification beforehand.</p>
<p>Called in the following cases:</p>
<ol type="1">
<li>A client ends their game by calling <a class="el" href="classCGameBTComms.html#a3128843106351e085f9fc7dfb39d94fd" title="This is called when a player no longer wishes to be part of the game (no option of continuing allowed...">CGameBTComms::EndMultiPlayerGame()</a> and there are fewer players than the minimum remaining.</li>
<li>A client disconnects from the host whilst playing and there are fewer players than the minimum remaining.</li>
<li>The host application disconnects the client application via the DisconnectClient API and there are fewer players than the minimum remaining.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aReason</td><td><ul>
<li>KErrHostQuit The host has quit and so the game cannot be played anymore</li>
<li>KErrNotEnoughPlayers A client has quit such that the number of players falls below the minimum needed.</li>
<li>KErrDisconnected Disconnect() has been called whilst playing or there has been a comms error. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51a7a21de5019aad81c748e63f88dbf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a7a21de5019aad81c748e63f88dbf4">&#9670;&nbsp;</a></span>HostConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::HostConnected </td>
          <td>(</td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Always called on each client application after StartClientL() is called (unless no device is selected). </p>
<p>Also called on each client after reconnection to the host using ReconnectL(). The connection is only successful if KErrNone == aError.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aError</td><td><ul>
<li>KErrNone If successful</li>
<li>KErrCancel If user presses cancel before connection</li>
<li>KErrIncompatibleGame If host is running a different game</li>
<li>KErrIncompatibleCommsVersion If library version is not compatible</li>
<li>KErrNotCommsHost If remote device is not actually a host </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6bb470b3c1affbb8e32e28cb1ad0ad4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb470b3c1affbb8e32e28cb1ad0ad4e">&#9670;&nbsp;</a></span>HostDisconnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::HostDisconnected </td>
          <td>(</td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is called on a client application when the host has disconnected because: </p>
<ol type="1">
<li>An I/O Error occurred</li>
<li>The host ended the game (An <a class="el" href="classMGameBTCommsNotify.html#ab505b438d42be6adec486d55c3d3a7b6" title="Notifies the game application that the game should be ended.">EndMultiPlayerGame()</a> notification will be received after also)</li>
</ol>
<p>It is not called because of:</p>
<ol type="1">
<li>A Disconnect() call from the client application.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aError</td><td>KErrNone if disconnection is not due to an error e.g. another device receiving telephone call </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad63875daf6140c76cc0e7a8f2fc72daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63875daf6140c76cc0e7a8f2fc72daa">&#9670;&nbsp;</a></span>HostSelected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::HostSelected </td>
          <td>(</td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called on a client application when a host is selected by the user after calling StartClientL(). </p>
<p>This notification is only really of value to let the application know that the user has canceled the host selection dialog. In this case, KErrCancel == aError.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aError</td><td><ul>
<li>KErrNone If successful</li>
<li>KerrCancel If user presses cancel without selecting a device </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5022bcfc48c946df980d7fd531fa45a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5022bcfc48c946df980d7fd531fa45a5">&#9670;&nbsp;</a></span>PauseMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::PauseMultiPlayerGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called on all applications except the one that called <a class="el" href="classCGameBTComms.html#a8e52208889e1fa5f46e388978a758c08" title="Sets each device&#39;s game status to paused.">CGameBTComms::PauseMultiPlayerGame()</a> </p>
<p>Indicates the game should be paused. Attempting to call a SendDataxxx function whilst in the paused state will result in an error code of KErrGamePaused being returned. </p>

</div>
</div>
<a id="abd6870737d90c9d25c344b787a5f7d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6870737d90c9d25c344b787a5f7d1a">&#9670;&nbsp;</a></span>ReceiveDataFromClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ReceiveDataFromClient </td>
          <td>(</td>
          <td class="paramtype">TUint16&#160;</td>
          <td class="paramname"><em>aClientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDesC8 &amp;&#160;</td>
          <td class="paramname"><em>aData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies the game application that some application specific data has been received from a client game. </p>
<p>Note: the game must be in the <code>play</code> state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aClientId</td><td>Indicates which client the data is received from (from 1 to CGameBTComms::KMaxPlayers - 1)</td></tr>
    <tr><td class="paramname">aData</td><td>Descriptor containing the data received. Note that this must be copied if it is to be used outside the scope of this function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a338686af8babe72f59326fb0e007e8ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338686af8babe72f59326fb0e007e8ac">&#9670;&nbsp;</a></span>ReceiveDataFromHost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::ReceiveDataFromHost </td>
          <td>(</td>
          <td class="paramtype">TDesC8 &amp;&#160;</td>
          <td class="paramname"><em>aData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies a client game application that some application specific data has been received from the host game. </p>
<p>Note: the game must be in the <code>play</code> state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aData</td><td>Descriptor containing the data received. Note that this must be copied if it is to be used outside the scope of this function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10f165616ab9490aa4a5d8af7e31623d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f165616ab9490aa4a5d8af7e31623d">&#9670;&nbsp;</a></span>StartMultiPlayerGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MGameBTCommsNotify::StartMultiPlayerGame </td>
          <td>(</td>
          <td class="paramtype">TInt&#160;</td>
          <td class="paramname"><em>aError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Always called on all applications when the game can be started (KErrNone == aError). </p>
<p>This means that all the necessary connections are in place (i.e the number of requested players have been connected). Note that this is only called after StartHostL() and not ReconnectL(). If KErrNotEnoughPlayers == aError, this means that there has been a comms error immediately after all the clients have connected, and some clients have been disconnected, leaving not enough players to play the game.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aError</td><td><ul>
<li>KErrNone if successful and the game could be started, otherwise</li>
<li>KErrNotEnoughPlayers if the game could not be started because there are not enough players caused by player(s) exiting before play started or IO error(s). </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="GameBTCommsNotify_8h_source.html">GameBTCommsNotify.h</a></li>
<li>src/<a class="el" href="GameBTCommsNotify_8cpp.html">GameBTCommsNotify.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMGameBTCommsNotify.html">MGameBTCommsNotify</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
